{% load static %}
{% load humanize %}
<div v-show='step == 3' class="reserve-dates">

    <div class="date-info flex-wrap">
        <div class="date-picker me-2">
            <button name="date-picker select"
                    class="date-picker-btn btn btn-success shadow-0 border-3  flex-fill me-3 justify-content-center align-items-center"
                    placeholder="" @click='datepicker = true'>

                {% comment %} <div class="" :class="!datepicker_loader ? 'd-none' : ''">
                        <i class="fas fa-spinner loading"></i>
                    </div> {% endcomment %}

                <span v-if="!reserve_date">تاریخ را انتخاب کنید</span>
                <span v-if="reserve_date">[[reserve_date]] &nbsp;<i
                        class="far fa-calendar"></i></span>
            </button>
        </div>
        <div class="d-flex flex-column p-2 flex-wrap">
            <span><i class="fas fa-circle fa-sm text-success"></i>&nbsp; نوبت های آزاد :
                <span class="badge badge-success fw-bold">[[free_turns]] نوبت</span></span>
            <span><i class="fas fa-circle fa-sm text-danger"></i>&nbsp; نوبت های رزرو شده:
                <span class="badge badge-danger fw-bold">[[reserved_turns]] نوبت</span></span>
        </div>
    </div>
    <div class="reserve-time-section mt-3">
        <div>
            <span class="empty_reserve_list" v-if='!selected_date'>لطفا تاریخ رزرو را انتخاب کنید</span>
            <span v-if="selected_date && reservable_time_list.length < 1 " style="text-align: center;font-weight: bold;display: flex;align-items: center;justify-content: center;margin: 4em;width: 100%;">
                تمام سانس های این بازی، برای این تاریخ پر می باشد
                <br>
                لطفا روز های دیگر را بررسی کنید
            </span>  
            <label v-else v-for='item in reservable_time_list' :id='item.rand_id'
                   @click='() => {select_time(item, item.price_per_unit)}'>
                <span class="status-icon"></span>
                <div class="reserve-time-detail">
                    <span class="time fw-bold">ساعت [[item.time]]</span>
                    <span class="price">هر نفر: [[item.price_per_unit]]</span>
                </div>
                <div style="width: auto; display: flex; flex: 1 1 0%; justify-content: flex-end;"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="48px" height="48px" viewBox="0,0,255.99431,255.99431"><defs><linearGradient x1="20.385" y1="6.21" x2="27.331" y2="40.395" gradientUnits="userSpaceOnUse" id="color-1"><stop offset="0" stop-color="#4c4c4c"></stop><stop offset="1" stop-color="#1f1f1f"></stop></linearGradient><linearGradient x1="14.999" y1="18.12" x2="14.999" y2="30.203" gradientUnits="userSpaceOnUse" id="color-2"><stop offset="0" stop-color="#ffda1c"></stop><stop offset="1" stop-color="#feb705"></stop></linearGradient><linearGradient x1="25" y1="18.047" x2="25" y2="30.096" gradientUnits="userSpaceOnUse" id="color-3"><stop offset="0" stop-color="#ffda1c"></stop><stop offset="1" stop-color="#feb705"></stop></linearGradient><linearGradient x1="34.615" y1="18.12" x2="34.615" y2="30.418" gradientUnits="userSpaceOnUse" id="color-4"><stop offset="0" stop-color="#ffda1c"></stop><stop offset="1" stop-color="#feb705"></stop></linearGradient></defs><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(5.33333,5.33333)"><path d="M42,7h-36c-1.105,0 -2,0.895 -2,2v30c0,1.105 0.895,2 2,2h36c1.105,0 2,-0.895 2,-2v-30c0,-1.105 -0.895,-2 -2,-2z" fill="url(#color-1)"></path><path d="M19.939,17h-1.755c-0.668,0 -1.246,0.43 -1.438,1.071l-1.703,5.698l-1.707,-5.7c-0.191,-0.639 -0.769,-1.069 -1.437,-1.069h-1.841c-0.482,0 -0.938,0.234 -1.22,0.627c-0.282,0.393 -0.356,0.899 -0.2,1.356l3.743,11.001c0.209,0.608 0.779,1.016 1.421,1.016h2.348c0.641,0 1.21,-0.407 1.418,-1.011l3.79,-11l0.001,-0.001c0.156,-0.458 0.082,-0.965 -0.199,-1.359c-0.281,-0.394 -0.737,-0.629 -1.221,-0.629z" fill="#000000" opacity="0.05"></path><path d="M26.855,17h-3.711c-0.827,0 -1.5,0.673 -1.5,1.5v2.592h1l0.004,5.815h-1.004v2.593c0,0.827 0.673,1.5 1.5,1.5h3.711c0.827,0 1.5,-0.673 1.5,-1.5v-2.592h-1l-0.004,-5.815h1.004v-2.593c0,-0.827 -0.672,-1.5 -1.5,-1.5z" fill="#000000" opacity="0.05"></path><path d="M34.465,17h-3.735c-0.827,0 -1.5,0.673 -1.5,1.5v11c0,0.827 0.673,1.5 1.5,1.5h1.702c0.827,0 1.5,-0.673 1.5,-1.5v-2.634h0.289c1.688,0 3.078,-0.457 4.129,-1.358c1.095,-0.94 1.65,-2.179 1.65,-3.684c0,-1.802 -0.719,-4.824 -5.535,-4.824zM35.155,21.925c0,0.438 0,0.891 -1.159,0.891h-0.063v-1.741h0.063c1.159,0 1.159,0.432 1.159,0.85z" fill="#000000" opacity="0.05"></path><path d="M19.939,17.5h-1.755c-0.445,0 -0.831,0.287 -0.959,0.714l-2.181,7.299l-2.188,-7.3c-0.128,-0.426 -0.513,-0.713 -0.958,-0.713h-1.841c-0.322,0 -0.626,0.156 -0.813,0.418c-0.187,0.262 -0.237,0.6 -0.134,0.904l3.744,11.001c0.138,0.405 0.519,0.677 0.946,0.677h2.348c0.427,0 0.807,-0.271 0.945,-0.674l3.79,-11c0,0 0,0 0,-0.001c0.104,-0.305 0.056,-0.644 -0.132,-0.906c-0.188,-0.262 -0.489,-0.419 -0.812,-0.419zM20.412,18.663v0v0z" fill="#000000" opacity="0.07"></path><path d="M26.855,17.5h-3.711c-0.552,0 -1,0.449 -1,1v1.592c0,0.276 0.224,0.5 0.5,0.5h0.504v6.815h-0.504c-0.276,0 -0.5,0.224 -0.5,0.5v1.593c0,0.551 0.448,1 1,1h3.711c0.552,0 1,-0.449 1,-1v-1.592c0,-0.276 -0.224,-0.5 -0.5,-0.5h-0.504v-6.815h0.504c0.276,0 0.5,-0.224 0.5,-0.5v-1.593c0,-0.551 -0.448,-1 -1,-1z" fill="#000000" opacity="0.07"></path><path d="M34.465,17.5h-3.735c-0.552,0 -1,0.449 -1,1v11c0,0.551 0.448,1 1,1h1.702c0.552,0 1,-0.449 1,-1v-3.134h0.789c1.566,0 2.846,-0.417 3.804,-1.238c0.979,-0.84 1.475,-1.952 1.475,-3.304c0,-1.972 -0.874,-4.324 -5.035,-4.324zM35.655,21.925c0,0.688 -0.197,1.391 -1.659,1.391h-0.563v-2.741h0.563c1.462,0 1.659,0.682 1.659,1.35z" fill="#000000" opacity="0.07"></path><path d="M20.412,18.663l-3.789,11c-0.07,0.202 -0.26,0.337 -0.473,0.337h-2.348c-0.214,0 -0.404,-0.136 -0.473,-0.339l-3.743,-11c-0.112,-0.324 0.13,-0.661 0.472,-0.661h1.842c0.221,0 0.416,0.145 0.479,0.357l2.395,7.995c0.134,0.452 0.215,0.851 0.243,1.197h0.05c0.039,-0.374 0.126,-0.784 0.259,-1.23l2.379,-7.961c0.063,-0.213 0.258,-0.358 0.479,-0.358h1.755c0.343,0 0.585,0.338 0.473,0.663z" fill="url(#color-2)"></path><path d="M26.856,18c0.276,0 0.5,0.224 0.5,0.5v1.592h-1.004v7.816h1.004v1.592c0,0.276 -0.224,0.5 -0.5,0.5h-3.711c-0.276,0 -0.5,-0.224 -0.5,-0.5v-1.592h1.004v-7.816h-1.004v-1.592c0,-0.276 0.224,-0.5 0.5,-0.5z" fill="url(#color-3)"></path><path d="M32.933,25.866v3.634c0,0.276 -0.224,0.5 -0.5,0.5h-1.703c-0.276,0 -0.5,-0.224 -0.5,-0.5v-11c0,-0.276 0.224,-0.5 0.5,-0.5h3.734c3.024,0 4.536,1.275 4.536,3.824c0,1.205 -0.434,2.18 -1.301,2.925c-0.868,0.745 -2.027,1.117 -3.477,1.117zM32.933,20.075v3.741h1.063c1.439,0 2.159,-0.63 2.159,-1.891c0,-1.233 -0.72,-1.849 -2.159,-1.849h-1.063z" fill="url(#color-4)"></path></g></g></svg></div>
            </label>    

        </div>
    </div>
</div>